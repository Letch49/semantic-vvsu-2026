# Задача 3: Агенты

## Описание задачи

В данной задаче вам предстоит создать личного помощника-агента с использованием библиотеки `langchain`. Агент должен решать одну узкую задачу из предложенных треков.

### Цель задачи

Реализовать специализированного агента, который умеет решать конкретную задачу, правильно обрабатывает запросы вне своей компетенции и может быть использован через приложение (бот в Telegram или REST API).

### Треки для выбора

Выберите один из следующих треков или предложите свой:

1. **Маркетолог и контент-мейкер**
   - Создание контента для социальных сетей
   - Анализ целевой аудитории
   - Генерация идей для постов

2. **Тестировщик**
   - Анализ кода на наличие багов
   - Генерация тестовых сценариев
   - Проверка качества кода

3. **Планировщик задач**
   - Создание планов работы
   - Приоритизация задач
   - Оценка времени выполнения

4. **Аналитик данных**
   - Анализ данных из CSV/Excel
   - Генерация отчетов
   - Визуализация данных

5. **Переводчик и редактор**
   - Перевод текстов
   - Редактирование и улучшение текстов
   - Проверка грамматики

6. **Исследователь**
   - Поиск информации по теме
   - Создание резюме и выводов
   - Анализ документов

7. **Любой другой помощник** для решения конкретных задач (по согласованию с преподавателем)

### Что нужно сделать

1. **Реализовать агента с помощью langchain**:
   - Инициализировать агента с использованием LLM
   - Определить специализацию агента (выбранный трек)
   - Настроить промпты для работы агента

2. **Реализовать обработку запросов вне компетенции**:
   - Если запрос не относится к специализации агента, отвечать: "Извините, но моя задача выполнять [описание специализации]"

3. **Создать приложение** (выберите один вариант):
   - **Вариант А**: Telegram-бот
     - Бот принимает запросы от пользователей
     - Отправляет ответы агента
   - **Вариант Б**: REST API
     - Эндпоинт `/generate` принимает запросы
     - Возвращает JSON с ответом агента

4. **Реализовать тестирование методом агент-агент**:
   - Создать 10 тестовых кейсов (запросов)
   - Определить 10 ожидаемых ответов
   - Реализовать агента-оценщика, который оценивает качество ответов (0-10 баллов)
   - Вывести результаты тестирования

### Технические требования

#### Разрешенные библиотеки:
- `langchain` - для создания агентов
- `langchain-openai` или `langchain-anthropic` - для работы с LLM
- `pandas` - для работы с данными (CSV)
- `fastapi` или `flask` - для REST API (опционально)
- `python-telegram-bot` - для Telegram-бота (опционально)
- Стандартные библиотеки Python

#### Что нужно реализовать:

1. **Класс агента** со следующей структурой:
```python
class PersonalAssistant:
    def __init__(self, specialization, llm):
        # Инициализация агента с langchain
        pass
    
    def process_request(self, request):
        # Обработка запроса
        # Проверка на соответствие специализации
        # Генерация ответа
        pass
    
    def is_in_scope(self, request):
        # Проверка, относится ли запрос к специализации агента
        pass
```

2. **Приложение** (Telegram-бот или REST API):
   - Прием запросов от пользователей
   - Вызов агента для обработки запроса
   - Возврат ответа пользователю

3. **Систему тестирования**:
   - 10 тестовых кейсов
   - Агент-оценщик для проверки качества ответов
   - Вывод результатов тестирования

### Критерии оценки (10 баллов)

- **2 балла**: Корректная инициализация агента с использованием langchain
- **2 балла**: Правильная обработка запросов в рамках специализации
- **1 балл**: Корректная обработка запросов вне компетенции (ответ "Извините, но моя задача...")
- **2 балла**: Реализация приложения (Telegram-бот или REST API)
- **2 балла**: Реализация тестирования методом агент-агент (10 кейсов, оценщик)
- **1 балл**: Качество кода и документации

### Формат сдачи

1. Проект, содержащий приложение
4. Файл `report.md` с описанием:
   - Выбранного трека и специализации агента
   - Архитектуры решения
   - Описания работы агента
   - Результатов тестирования
   - Выводов

### Полезные ссылки

- [LangChain Documentation](https://python.langchain.com/)
- [LangChain Agents](https://python.langchain.com/docs/modules/agents/)
- [Python Telegram Bot](https://python-telegram-bot.org/)
- [FastAPI Documentation](https://fastapi.tiangolo.com/)

### Примеры ожидаемых результатов

После выполнения задачи вы должны получить:
- Работающего агента, который решает задачи в рамках своей специализации
- Приложение (бот или API) для взаимодействия с агентом
- Результаты тестирования с оценками качества работы агента

### Вопросы для размышления

1. Как определить, относится ли запрос к специализации агента?
2. Какие промпты лучше использовать для специализированного агента?
3. Как оценить качество работы агента автоматически?
4. В чем преимущества и недостатки агент-агент тестирования?
